---
title: Ubuntu的开箱工作
date: 2017-02-09 15:39:57
categories:
 - TechChatter
tags:
 - Linux
 - Ubuntu
---


# Ubuntu的开箱工作

每次新拿到一个服务器，需要创建账号啦，配置环境之类的。但是每次都要临时google各种命令用法（忘性大），所以集中整理一下。这里得十分感谢[鸟哥的Linux私房菜](http://linux.vbird.org/)。虽然有点老，但是讲的确实很不错！这里以Ubuntu16.04为范例

<!--more-->

##新建账号

正常而言，新开箱的linux服务器是只给了一个root账号。那么第一步就是要建立自己的管理员账号。

首先要确认useradd的预设值

~~~shell
useradd -D
~~~

主要是SHELL的预设值最好是/bin/bash，而Ubuntu默认是/bin/bash，可以在/etc/default/useradd里修改。不过我在自己开箱的时候发现默认设置修改似乎没用，不知道为啥。只能加参数强制设置默认SHELL或者事后手动在/etc/passwd里改

新建一个用户账号，并设置密码

~~~shell
useradd -m turtle
passwd turtle
~~~

添加sudo权限

~~~shell
vim /etc/sudoers

....(前面省略)....
root    ALL=(ALL:ALL) ALL  <==找到這一行，大約在 98 行左右
turtle  ALL=(ALL:ALL) ALL  <==這一行是你要新增的！
....(底下省略)....
~~~

或者直接

~~~shell
usermod -aG sudo turtle
~~~

如果发现有问题，可以在/etc/passwd里面修改一下。可能遇到默认的SHELL没设置，home目录没自动建立。然后就该登出root账号啦

##看一下配置

~~~shell
free -m            内存
df -h              硬盘
cat /proc/cpuinfo  CPU信息
top                当前负载
~~~

##安装一些基本软件

~~~shell
sudo apt update
sudo apt upgrade
sudo apt install git
sudo apt install python3
sudo apt install mysql-client
sudo apt install nload
sudo apt install hdparam
~~~

其中如果是阿里云或者其他云服务器的话，在sudo apt upgrade这一步的grub需要注意保留原来的版本，不去动是最好的选择。

某些情况下服务器的卡顿，可以使用hdparam测试一下磁盘IO是否正常




